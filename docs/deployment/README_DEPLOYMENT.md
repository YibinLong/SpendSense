# ğŸš€ SpendSense Deployment - Quick Start

## ğŸ“¦ Files I Created For You

I've set up everything needed for deployment:

### Configuration Files
- âœ… **`render.yaml`** - Backend deployment config for Render
- âœ… **`frontend/vercel.json`** - Frontend deployment config for Vercel
- âœ… **`spendsense/app/main.py`** - Updated CORS to allow Vercel domains

### Documentation Files
- ğŸ“– **`WHAT_YOU_NEED_TO_DO.md`** - **START HERE** - Simple task list
- ğŸ“– **`DEPLOYMENT_CHECKLIST.md`** - Checkbox checklist format
- ğŸ“– **`DEPLOYMENT_GUIDE.md`** - Full detailed guide with explanations

---

## ğŸ¯ Quick Start (20 minutes)

### Step 1: Read Your Instructions
Open **`WHAT_YOU_NEED_TO_DO.md`** - it has 7 simple tasks with exact commands.

### Step 2: Follow the Tasks
All you need to do:
1. Push code to GitHub
2. Deploy backend on Render.com
3. Initialize database
4. Create `.env.production` file
5. Deploy frontend on Vercel.com
6. Test everything
7. Update CORS if needed

---

## ğŸ—ï¸ Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRODUCTION                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  Frontend (Vercel)              Backend (Render)    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ React + Vite     â”‚  HTTPS    â”‚ FastAPI       â”‚  â”‚
â”‚  â”‚ spendsense.      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€> â”‚ + SQLite      â”‚  â”‚
â”‚  â”‚ vercel.app       â”‚           â”‚ + Python      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Why Two Platforms?**
- **Vercel**: Optimized for React/Vite frontends (auto CDN, fast builds)
- **Render**: Supports persistent Python servers (FastAPI + SQLite)

---

## ğŸ”‘ Environment Variables

### What You Set in Render Dashboard
All these are pre-configured in `render.yaml` - Render sets them automatically:
- `APP_ENV=prod`
- `DATABASE_URL=sqlite:///./data/spendsense.db`
- `JWT_SECRET_KEY=<auto-generated>`
- Plus 8 more...

### What You Set in Vercel Dashboard
Only ONE variable to set manually:
- `VITE_API_BASE=https://your-backend.onrender.com`

---

## âš ï¸ Important Notes

### Free Tier Limitations

**Render Free Tier:**
- âŒ Database resets after 15 minutes of inactivity
- âŒ "Cold starts" (first request takes 30-60 seconds after inactivity)
- âœ… Good for demos and testing
- ğŸ’° Upgrade to $7/month for persistent storage

**Vercel Free Tier:**
- âœ… No cold starts
- âœ… Fast global CDN
- âœ… Perfect for this use case

### Security

**DO NOT commit these files:**
- `.env` - Already in `.gitignore` âœ…
- `.env.production` - Already in `.gitignore` âœ…
- `spendsense.db` - Already in `.gitignore` âœ…

**Environment variables are set in platform dashboards**, not in code!

---

## ğŸ§ª Testing Your Deployment

After deployment, verify these:

```bash
# 1. Backend health check
curl https://your-backend.onrender.com/health
# Expected: {"status":"healthy","app":"SpendSense","environment":"prod"}

# 2. Backend API docs
open https://your-backend.onrender.com/docs
# Should see FastAPI Swagger UI

# 3. Frontend
open https://spendsense.vercel.app
# Should see login page
```

---

## ğŸ› Troubleshooting

| Problem | Solution |
|---------|----------|
| **CORS error in browser console** | Update backend CORS with your Vercel URL (see Task 7) |
| **"Network Error" in frontend** | Check `VITE_API_BASE` in Vercel dashboard |
| **Can't login** | Database empty - run `python -m scripts.reset_and_populate` in Render Shell |
| **Backend returns 500** | Check logs in Render dashboard |
| **Slow first request** | Cold start - normal on free tier |

---

## ğŸ“š Documentation Structure

```
WHAT_YOU_NEED_TO_DO.md        ğŸ‘ˆ START HERE (simple task list)
    â†“
DEPLOYMENT_CHECKLIST.md        (checkbox format)
    â†“
DEPLOYMENT_GUIDE.md            (full detailed explanations)
    â†“
README_DEPLOYMENT.md           (you are here - overview)
```

---

## ğŸ‰ Success Criteria

Your deployment is complete when:

1. âœ… Backend health endpoint returns `{"status":"healthy"}`
2. âœ… Frontend loads at your Vercel URL
3. âœ… You can login with test credentials
4. âœ… Dashboard shows user data
5. âœ… No CORS or network errors in browser console

---

## ğŸ”„ Making Updates After Deployment

### Code Changes
Both platforms support **auto-deployment**:
1. Make changes locally
2. `git commit` and `git push`
3. Platforms auto-deploy in 2-5 minutes

### Environment Variable Changes
- **Render**: Update in dashboard â†’ Manual redeploy required
- **Vercel**: Update in dashboard â†’ Auto-redeploys

---

## ğŸ“ Need Help?

1. Check **Troubleshooting** section above
2. Review `DEPLOYMENT_GUIDE.md` for detailed explanations
3. Check Render/Vercel logs in their dashboards
4. Verify environment variables are set correctly

---

## ğŸš€ Next Steps

1. Open **`WHAT_YOU_NEED_TO_DO.md`**
2. Follow the 7 tasks
3. Test your deployment
4. Share your live URL! ğŸ‰
